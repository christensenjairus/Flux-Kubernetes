apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - namespace.yaml
  - custom-error-pages.yaml
  - cache-pvc.yaml
  - audit-logs-pvc.yaml
  - clear-out-audit-logs-cron.yaml
  - modsecurity-plugins-cm.yaml
  - repository.yaml
  - release.yaml
  - prometheus-rules.yaml
  - ./tcp-udp-forwards

# Create a ConfigMap from the directory of config files
configMapGenerator:
  - name: wordpress-modsecurity-ruleset
    files:
      - wordpress-modsecurity-ruleset/01-SETUP.conf
      - wordpress-modsecurity-ruleset/02-INITIALIZATION.conf
      - wordpress-modsecurity-ruleset/03-BRUTEFORCE.conf
      - wordpress-modsecurity-ruleset/04-EVENTS.conf
      - wordpress-modsecurity-ruleset/05-HARDENING.conf
